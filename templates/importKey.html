<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title></title>
    <link rel="stylesheet" href="../css/photon.min.css">
    <link rel="stylesheet" href="../css/style.css">
    <script type="text/javascript" src="../js/index.js"></script>
    <script type="text/javascript" src="../js/generate.js" defer></script>
    <script type="text/javascript" src="../js/public.js" defer></script>
    <script type="text/javascript" src="../js/encrypt.js" defer></script>
    <script type="text/javascript" src="../js/decrypt.js" defer></script>
    <script type="text/javascript" src="../js/sign.js" defer></script>
    <script type="text/javascript" src="../js/verifyMsg.js"></script>
    <!-- // <script> require('../js/index.js') </script>/ -->

    <!-- Bootstrap -->
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
    <script src="../bootstrap/js/bootstrap.min.js"></script>
    <!-- /Bootstrap -->

  </head>
  <body>

    <div class="window">
      <div class="window-content">
        <div class="pane-group">

          <!-- Sidebar -->

          <div class="pane-sm sidebar">
            <nav class="nav-group">
              
              <h5 class="nav-group-title">Key Management</h5>
              <a id="import" class="nav-group-item active" href="#importKey" data-toggle="tab">
                <span class="icon icon-plus"></span>
                Import Key
              </a>
              <a class="nav-group-item" href="#generateKey" data-toggle="tab">
                <span class="icon icon-arrows-ccw"></span>
                Generate Key
              </a>
              <a class="nav-group-item" href="#displayKeys" data-toggle="tab">
                <span class="icon icon-key"></span>
                Display Keys
              </a>

              <h5 class="nav-group-title">Message Encryption</h5>

              <a class="nav-group-item" href="#encrypt" data-toggle="tab">
                <span class="icon icon-lock"></span>
                Encrypt
              </a>
              <a class="nav-group-item" href="#decrypt" data-toggle="tab">
                <span class="icon icon-lock-open"></span>
                Decrypt
              </a>


              <h5 class="nav-group-title">Sign/Verify Message</h5>
              
              <a class="nav-group-item" href="#sign" data-toggle="tab">
                <span class="icon icon-pencil"></span>
                Sign
              </a>
              <a class="nav-group-item" href="#verify" data-toggle="tab">
                <span class="icon icon-check"></span>
                Verify
              </a>

            </nav>
          </div>

          <!-- /Sidebar -->

          <!-- Content -->
          <div class="tab-content clearfix pane">

            <!-- Import Key Tab -->

            <div class="tab-pane active" id="importKey">
              <h3>
                Import Key
              </h3> 

              <h5> Import key as text </h5>
              <div class="form-group">
                <textarea id = "key" placeholder="Insert Key to import Here" rows="12" cols="50">
                </textarea>      
              </div>

              <div class="form-actions">
                <button type="submit" class="btn btn-form btn-primary" onclick="importKey()">Import</button>
                <button type="submit" class="btn btn-form btn-default" onclick="clearF('importKey')">Clear</button>
              </div>
            </div>

            <!-- /Import Key Tab-->

            <!-- Generate Key Tab-->
            <div class="tab-pane" id="generateKey">

              <h3>
                Generate Key
              </h3>

              <div class="form-group">
                <label>Name</label>
                <input id="name" type="text" class="form-control" placeholder="Name">
              </div>
              <div class="form-group">
                <label>Email address</label>
                <input id="email" type="email" class="form-control" placeholder="Email">
              </div>
              <div class="form-group">
                <label>Password</label>
                <input id="passphrase" type="password" class="form-control" placeholder="Password">
              </div>

              <div class="form-actions">
                <button id="generateBtn" data-loading-text="Generating key pair..." type="submit" class="btn btn-form btn-primary" onclick="generate()">Generate</button>
                <!-- <button type="submit" class="btn btn-form btn-default" onclick="clearF('generateKey')">Clear</button> -->

              </div>
            </div>

            <!-- /Generate Key Tab-->

            <!-- Display Keys Tab -->
            <div class="tab-pane" id="displayKeys">
              <table id = "publicKeysTable" class="table table-hover">
                <thead>
                  <tr>
                    <th>Name</th>
                    <th>Email</th>
                    <th>Key ID</th>
                    <th>Created</th>
                  </tr>
                </thead>
                <tbody>
                </tbody>
              </table>
            </div>
            <!-- /Display Keys Tab -->

            <!-- Encrypt Tab -->
            <div class="tab-pane" id="encrypt">
              
              <h3> Encrypt Message </h3>
              <div class="form-group">
                  <textarea id = "message" class="form-control" rows="12" placeholder="Insert your message here...">
                  </textarea>
              </div>

              <div class="form-group">
                <div class="row">
                <div class="col-sm-4">
                  <select id = "selectPublicKey" class="form-control">
                  </select>
                </div>
                <div class="col-sm-4 col-sm-offset-4">
                  <input type="button" value="Submit" onclick="encryptMsg()" class="form-control btn btn-form btn-primary" >
                </div>
                </div>
              </div>

            </div>
            <!-- /Encrypt Tab -->

            <!-- Decrypt Tab-->

            <div class="tab-pane" id="decrypt">
              <h3> Decrypt Message </h3>
              <div class="form-group">
                  <textarea id = "message" rows="12" class="form-control" placeholder="Insert your encrypted message here..."> 
                </textarea>
              </div>

              <div class="form-group">
                <div class="row">
                <div class="col-sm-4">
                  <label for="passphrase"> Passphrase: </label>
                  <input type="password" id="passphrase" class="form-control">
                </div>
                <div class="col-sm-4 col-sm-offset-4">
                  <input type="button" value="Submit" onclick="decryptMsg()" class="form-control btn btn-form btn-primary">
                </div>
                </div>
              </div>
            </div>              

            <!-- /Decrypt Tab-->

            <!-- Sign Tab -->
            <div class="tab-pane" id="sign">
              <h3>Sign Your Message</h3>
              <div class="form-group">
                <textarea id = "message" rows="12" class="form-control">
                  Enter the message to be signed
                </textarea>
              </div>

              <div class="form-group">
                <select id = "selectPrivateKey" class="form-control">
                </select>
              </div>

              <div class="form-group">
                Passphrase: <input type="password" id="passphrase" class="form-control">
              </div>

              <div class="form-group">
                <input type="button" value="Submit" onclick="signMsg()" class="form-control btn btn-form btn-primary">
              </div>
            </div>

            <!-- /Sign Tab -->

            <!-- Verify Tab -->
            <div class="tab-pane" id="verify">
              <h3>Verify your message </h3>

              <div class="form-group">
                <textarea id="UnVerMSG" rows="12" class="form-control">
                  Paste your message
                </textarea>
              </div>
              <div class="form-group">
                <input type="button" value="Submit" onclick="VerifyInputMsg()" class="form-control btn btn-form btn-primary">
              </div>
            </div>

            <!-- /Verify Tab -->

          <!-- Modal -->
            <div class="modal fade" id="myModal" role="dialog">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                  <div class="modal-body">
                    <img src="../images/load.gif">
                  </div>
                </div>
              </div>
            </div>

          <!-- Key info Modal -->
            <div class="modal fade" id="keyInfoModal" role="dialog">
              <div class="modal-dialog modal-sm">
                <div class="modal-content">
                  <div class="modal-body">
                    <!-- keyinfomodal -->
                    <div class="container">
                      <ul class="nav nav-tabs">
                        <li class="active"><a data-toggle="tab" href="#mainkeyTab">Main Key</a></li>
                        <li><a data-toggle="tab" href="#exportTab">Export</a></li>
                      </ul>
                      <div class="tab-content">
                        <div id="mainkeyTab" class="tab-pane fade in active">
                          <div class="form-group">
                            <label class="col-sm-3" for="keyname">Name:</label>
                            <div class="col-sm-9">
                              <input type="text" class="form-control" id="keyname" disabled>
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-sm-3" for="keyemail">Email:</label>
                            <div class="col-sm-9">
                              <input type="text" class="form-control" id="keyemail" disabled>
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-sm-3" for="keyid">KeyID:</label>
                            <div class="col-sm-9">
                              <input type="text" class="form-control" id="keyid" disabled>
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-sm-3" for="keycreated">Created:</label>
                            <div class="col-sm-9">
                              <input type="text" class="form-control" id="keycreated" disabled>
                            </div>
                          </div>
                          <div class="form-group">
                            <label class="col-sm-3" for="keyfingerprint">Fingerprint:</label>
                            <div class="col-sm-9">
                              <input type="text" class="form-control" id="keyfingerprint" disabled>
                            </div>
                          </div>
                        </div>
                        <div id="exportTab" class="tab-pane fade">
                          <div class="form-group">
                            <div class="container">
                              <ul class="nav nav-pills" style="margin-top: 5%;margin-bottom: 3%;">
                                <li class="active"><a data-toggle="pill" href="#keypublicKey">Public</a></li>
                                <li><a data-toggle="pill" href="#keyprivateKey">Private</a></li>
                              </ul>
                              <div class="tab-content">
                                <div id="keypublicKey" class="tab-pane fade in active">
                                  <textarea id="keyPublicArmor" class="form-control" rows="12" disabled>
                                  </textarea>
                                </div>
                                <div id="keyprivateKey" class="tab-pane fade">
                                  <textarea id="keyPrivateArmor" class="form-control" rows="12" disabled>
                                  </textarea>
                                </div>
                            </div>
                          </div>
                        </div>
                      </div>
                    </div>
                    
                  </div>
                </div>
              </div>
            </div>

          </div>

          <!-- /Content -->
        </div>
      </div>

    </div>
    
    <!-- This script is changing the active tab  -->
    <script type="text/javascript">
      $(".nav-group a").click(function(){
        
        var activeTab = $(".nav-group-item.active")
        activeTab.removeClass('active')

        $( this ).addClass('active');

      })
    </script>
  </body>
</html>
